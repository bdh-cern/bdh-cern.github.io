AqFlow is a Python framework which streamlines the use of [[UCAP]].

 Key Features from the website:

- **UCAP Integration**: Seamless connection to CERN’s accelerator control systems   
- **Type-Safe Data Access**: Auto-generated Python classes from device definitions
- **Pipeline Architecture**: Built on Kedro for robust data processing workflows
- **Real-time Processing**: Event-driven data analysis with buffered subscriptions
- **Development Tools**: CLI for project scaffolding and device generation

I.e. you run AqFlow when you want to make a new UCAP device and it sets everything up for you to insert your logic into, based on:
- The subscriptions you want
- What you want to publish
- The type of the converter (e.g. one-to-one)
- Etc etc

The definition of your AqFlow/UCAP device is in `definitions/devices/device_name.py`. For example:

```
# Auto-generated from JSON by json_to_python_definition_factorized.py

from ucap_python_definitions.device_definition import (
    DeviceDefinition,
    OneToOneTransformationDefinition,
    PropertySubscriptionDefinition,
    PythonUserCodeDefinition,
)

# Point to the user-defined convertor
pythonUserCodeDefinition = PythonUserCodeDefinition(
    language='Python',
    configuration={},
    class_name='aqflow.pipelines.my_transformation.converter.UcapConverter',
)

# Define (one of) the transformation(s) the device performs
my_transformation = OneToOneTransformationDefinition(
    type='OneToOne',
    name='my_transformation',
    description='test transformation to do whatever',
    subscription=PropertySubscriptionDefinition(
        parameter='SPS.BLM/Acquisition#value',
        selector='CPS.USER.ALL',
    ),
    converter=pythonUserCodeDefinition,
    published_property='test_property',
)

# Define the device
device = DeviceDefinition(
    accelerator='SPS',
    description='TEST DEVICE FOR AQFLOW',
    device_class_name='SPS.TEST.DEVICE',
    device_class_version='1.0.0',
    name='SPS.TEST.DEVICE',
    ppm=False,
    responsible='brendana',
    state='development',
    transformations=[
        my_transformation,
    ],
    ucap_json_schema_version='v3',
)
```

# CLI

From website: 

- **Project Management**: Initialize new projects with proper structure (init)
- **Device Generation**: Create type-safe classes from device definitions (generate)
- **Import Management**: Import existing JSON device definitions (import)
- **Container Management**: Docker container orchestration for deployment (manager)
- **Device Deployment**: Deploy devices to UCAP nodes and manage their lifecycle (deploy, edit-device, list-devices)
- **Package Management**: Install and manage Python packages on UCAP nodes (install-package, uninstall-package, list-packages)

# Project Structure

my-accelerator-analysis/
├── README.md
├── pyproject.toml
├── my_accelerator_analysis/
│   ├── __init__.py
│   ├── catalog.py                 # Custom Kedro catalog wired to UCAP mocks
│   ├── dataclasses/               # Autogenerated AqFlowEvent classes
│   ├── definitions/
│   │   ├── __init__.py
│   │   └── devices/
│   │       └── device_name.py     # Device + transformation definitions
│   ├── moks.py                    # Mok Event/FSPV instances per transformation
│   ├── pipeline_registry.py       # Namespaces for each transformation
│   └── pipelines/
│       └── <transformation_name>/
│           ├── __init__.py
│           ├── converter.py       # UCAP converter wrapper
│           └── pipeline.py        # Pipeline skeleton for that transformation
│   ├── settings.py                # Patched to use the custom catalog
├── conf/                         # Kedro configuration
├── data/                         # Data layers (01_raw to 08_reporting)
│   ├── 01_raw/
│   ├── 02_intermediate/
│   ├── 03_primary/
│   ├── 04_feature/
│   ├── 05_model_input/
│   ├── 06_models/
│   ├── 07_model_output/
│   └── 08_reporting/
└── tests/
    └── test_main.py

... this seems to be a bit out-of-date, considering my own project looks like:

acc-py] brendana@cwe-513-vml503 ~/ucap-test/ucap-test-device $ tree  
.
├── conf  
│   ├── base  
│   │   ├── catalog.yml  
│   │   └── parameters.yml  
│   ├── local  
│   │   └── credentials.yml  
│   ├── logging.yml  
│   └── README.md  
├── data  
├── MANIFEST.in  
├── pyproject.toml  
├── README.md  
├── tests  
│   ├── __init__.py  
│   ├── pipelines  
│   │   └── __init__.py  
│   └── test_run.py  
└── ucap_test_device  
   ├── dataclasses  
   │   └── __init__.py  
   ├── definitions  
   │   ├── classes  # not there in the documentation schema
   │   └── devices  
   │       └── PS.BDH.TEST.json  
   ├── __init__.py  
   ├── __main__.py  
   ├── pipeline_registry.py  
   ├── pipelines  
   │   └── __init__.py  
   ├── settings.py  
   ├── tests  
   │   ├── __init__.py  
   │   └── test_ucap_test_device.py  
   └── _version.py